# Task 3 Configuration
analysis:
  alpha: 0.05  # Significance level
  min_samples_per_group: 30  # Minimum samples needed for testing
  
metrics:
  claim_threshold: 0  # Claims > this value count as having claim
  margin_formula: "TotalPremium - TotalClaims"
  
hypotheses:
  provinces:
    test_categories: ["Gauteng", "Western Cape"]  # Most populated provinces
    metrics: ["frequency", "severity"]
    
  zipcodes:
    grouping_method: "risk_quartiles"  # Options: risk_quartiles, top_bottom, sample
    top_n: 10  # Top N zip codes by policy count
    metrics: ["frequency", "margin"]
    
  gender:
    test_categories: ["Male", "Female"]
    metrics: ["frequency", "severity"]
    
data_cleaning:
  remove_outliers: true
  outlier_threshold: 0.99  # Remove top 1% outliers
  min_premium: 0  # Remove policies with premium <= 0
  
statistical_tests:
  proportion_test: "chi_square"  # For frequency
  mean_test: "t_test"           # For severity/margin
  multiple_testing_correction: "bonferroni"